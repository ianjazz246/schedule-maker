(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,n){"use strict";n.r(t);var a=n(69),r=n(75),o=n(74),l=n(15),c=n(16),s=n(24),i=n(23),u=n(11),d=n(25),h=n(1),f=n.n(h),v=n(14),p=n.n(v),m=n(43),b=n.n(m),g=n(29),k=n.n(g),y=n(22),C=n.n(y),w=n(30),E=n.n(w),B=n(39),O=n.n(B),j=n(72),S=n.n(j),x=n(70),U=n.n(x),N=n(41),A=n.n(N),R=n(42),I=n.n(R),L=n(40),W=n.n(L),T=n(12),M=n.n(T),G=n(73),F=(n(83),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function H(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;Object(l.a)(this,e),this.name=t,this.teacher=n,this.offeredBlocks=a,this.id=r,this.possibleBlocks=[]}return Object(c.a)(e,[{key:"clone",value:function(){return new e(this.name,this.teacher,this.offeredBlocks,this.id)}}]),e}(),K=new(0,n(84).EventEmitter),P=0,V=8,$=[new J("","",[],P++)];$=[new J("","",[],0)];var q={getCourses:function(){return $.slice()},subscribeUpdate:function(e){K.addListener("update",e)},unsubscribeUpdate:function(e){K.removeListener("update",e)},updateCourse:function(e,t){for(var n in t)$[e][n]=t[n];K.emit("update")},subscribeAddRemove:function(e){K.addListener("addRemove",e)},unsubscribeAddRemove:function(e){K.removeListener("addRemove",e)},addCourse:function(e){$=$.slice(0,e+1).concat(new J("","",[],P++),$.slice(e+1,$.length)),K.emit("addRemove")},removeCourse:function(e){var t=$.slice();t.splice(e,1),$=t,K.emit("addRemove")},subscribeBlocksChange:function(e){K.addListener("blocksChange",e)},unsubscribeBlocksChange:function(e){K.removeListener("blocksChange",e)},getBlocks:function(){return V},changeBlocks:function(e){e!==V&&(V=e,K.emit("blocksChange"))}},z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).makeSchedules=n.makeSchedules.bind(Object(u.a)(n)),n.prepareSchedule=n.prepareSchedule.bind(Object(u.a)(n)),n.state={schedules:[],blocks:4},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"prepareSchedule",value:function(e){var t=[],n=q.getBlocks();t.length=n;for(var a=[],r=0;r<n;++r)t[r]=[];var o=!0,l=!1,c=void 0;try{for(var s,i=e[Symbol.iterator]();!(o=(s=i.next()).done);o=!0){var u=s.value;if(u.offeredBlocks.length<2){if(a.includes(u.offeredBlocks[0]))break;var d=u.offeredBlocks[0];a.push(d),u.possibleBlocks.push(d)}var h=!0,f=!1,v=void 0;try{for(var p,m=u.offeredBlocks[Symbol.iterator]();!(h=(p=m.next()).done);h=!0){var b=p.value;a.includes(b)||u.possibleBlocks.push(b);var g=t[b];void 0!==g&&g.push(u)}}catch(k){f=!0,v=k}finally{try{h||null==m.return||m.return()}finally{if(f)throw v}}}}catch(k){l=!0,c=k}finally{try{o||null==i.return||i.return()}finally{if(l)throw c}}return t}},{key:"makeSchedules",value:function(e){var t=[];if(e.length<2)return e[0].map(function(e){return[e]});var n=!0,a=!1,l=void 0;try{for(var c,s=e[0][Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var i=c.value,u=[];u.length=e.length;for(var d=0,h=e.length;d<h;++d)u[d]=[];for(var f=1,v=e.length;f<v;++f)for(var p=void 0;-1!==(p=e[f].indexOf(i));)u[f].push(i),e[f].splice(p,1);var m=!1,b=!0,g=!1,k=void 0;try{for(var y,C=e[Symbol.iterator]();!(b=(y=C.next()).done);b=!0){y.value.length<1&&(m=!0)}}catch(F){g=!0,k=F}finally{try{b||null==C.return||C.return()}finally{if(g)throw k}}if(m);else{var w=this.makeSchedules(e.slice(1)),E=!0,B=!1,O=void 0;try{for(var j,S=w[Symbol.iterator]();!(E=(j=S.next()).done);E=!0){var x=j.value;t.push([i].concat(x))}}catch(F){B=!0,O=F}finally{try{E||null==S.return||S.return()}finally{if(B)throw O}}}var U=!0,N=!1,A=void 0;try{for(var R,I=u.entries()[Symbol.iterator]();!(U=(R=I.next()).done);U=!0){var L,W=R.value,T=Object(o.a)(W,2),M=T[0],G=T[1];(L=e[M]).push.apply(L,Object(r.a)(G))}}catch(F){N=!0,A=F}finally{try{U||null==I.return||I.return()}finally{if(N)throw A}}u=[]}}catch(F){a=!0,l=F}finally{try{n||null==s.return||s.return()}finally{if(a)throw l}}return t}},{key:"render",value:function(){var e=this;return f.a.createElement(f.a.Fragment,null,f.a.createElement(W.a,{bg:"light"},f.a.createElement(W.a.Brand,null,"Schedule Maker")),f.a.createElement(U.a,{onSelect:function(t){if("output"===t){var n=e.prepareSchedule(q.getCourses()),a=e.makeSchedules(n);e.setState({schedules:a})}}},f.a.createElement(A.a,{eventKey:"input",title:"Input"},f.a.createElement(Q,{courses:this.state.courses,scheduleApp:this})),f.a.createElement(A.a,{eventKey:"output",title:"Output"},f.a.createElement(D,{schedules:this.state.schedules,scheduleApp:this}))))}}]),t}(f.a.Component),D=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.schedules,t=[],n=q.getBlocks(),a=f.a.createElement(I.a,{variant:"danger"},f.a.createElement(I.a.Heading,null,"Unable to create schedule"),f.a.createElement("p",null,"There are no possible schedules from your classes. Make sure you have at least ",n," classes. If you believe this is a mistake, please leave an bug report on Github."));if(isNaN(n))return a;for(var r=function(e){t.push({id:"class"+(e+1),Header:"Block "+(e+1),style:{borderRight:"1px solid rgba(0, 0, 0, 0.2"},accessor:function(t){return t[e].name}})},o=0;o<n;++o)r(o);return e.length<1?a:f.a.createElement(G.a,{style:{padding:"10px"},data:e,columns:t,className:"-striped -highlight",defaultSorted:[{id:"block1",desc:!1}],filterable:!0,SubComponent:function(e){return f.a.createElement("div",{className:"rt-tr"},f.a.createElement("div",{className:"rt-td",style:{flex:"35 0 auto",width:"35px",maxWidth:"35px",wordWrap:"break-word"}},"Teacher"),e.original.map(function(e,t){return f.a.createElement("div",{key:t,className:"rt-td",style:{flex:"100 0 auto",width:"100px"}},e.teacher)}))}})}}]),t}(f.a.Component),Q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={courses:q.getCourses()},n.onAddRemove=n.onAddRemove.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onAddRemove",value:function(){this.setState({courses:q.getCourses()})}},{key:"componentWillMount",value:function(){q.subscribeAddRemove(this.onAddRemove)}},{key:"shouldComponentUpdate",value:function(e,t){return t.courses.length!==this.state.courses.length}},{key:"handleChange",value:function(e){q.changeBlocks(parseInt(e.target.value)),this.forceUpdate()}},{key:"getInputValue",value:function(){var e;return isNaN(e=q.getBlocks())?"":e}},{key:"render",value:function(){var e=this.props.scheduleApp;return f.a.createElement(f.a.Fragment,null,f.a.createElement(M.a.Group,{controlId:"blocksInput"},f.a.createElement(M.a.Label,null,"Number of blocks:"),f.a.createElement(M.a.Control,{value:this.getInputValue(),onChange:this.handleChange,type:"number",min:"1"})),f.a.createElement(b.a,null,this.state.courses.map(function(t,n){return f.a.createElement(X,{key:t.id,name:t.name,index:n,teacher:t.teacher,offeredBlocks:t.offeredBlocks,appInstance:e})})))}}]),t}(f.a.Component),X=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).addCourse=n.addCourse.bind(Object(u.a)(n)),n.removeCourse=n.removeCourse.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.onCourseUpdate=n.onCourseUpdate.bind(Object(u.a)(n)),n.onBlockUpdate=n.onBlockUpdate.bind(Object(u.a)(n)),n.state={course:q.getCourses()[n.props.index].clone(),blocks:q.getBlocks()},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addCourse",value:function(e,t){q.addCourse(e)}},{key:"removeCourse",value:function(e,t){q.removeCourse(e)}},{key:"handleChange",value:function(e,t,n){q.updateCourse(t,Object(a.a)({},e.target.name,e.target.value))}},{key:"onCourseUpdate",value:function(){var e=q.getCourses()[this.props.index].clone();e.name===this.state.course.name&&e.teacher===this.state.course.teacher&&e.id===this.state.course.id&&function(e,t){if(e.length!==t.length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(e.offeredBlocks,this.state.course.offeredBlocks)||this.setState({course:e})}},{key:"onBlockUpdate",value:function(){var e=q.getBlocks();isNaN(e)||this.setState({blocks:e})}},{key:"componentWillMount",value:function(){q.subscribeUpdate(this.onCourseUpdate),q.subscribeBlocksChange(this.onBlockUpdate)}},{key:"componentWillUnmount",value:function(){q.unsubscribeUpdate(this.onCourseUpdate),q.unsubscribeBlocksChange(this.onBlockUpdate)}},{key:"render",value:function(){var e=this,t=this.props.index,n=this.props.appInstance;return f.a.createElement(b.a.Item,null,f.a.createElement(M.a.Group,{controlId:"courseInput"+t},f.a.createElement(M.a.Label,null,"Class Name"),f.a.createElement(M.a.Control,{placeholder:"Class Name",name:"name",value:this.state.course.name,onChange:function(a){return e.handleChange(a,t,n)}})),f.a.createElement(M.a.Group,{controlId:"courseInput"+t},f.a.createElement(M.a.Label,null,"Teacher"),f.a.createElement(M.a.Control,{placeholder:"Teacher",name:"teacher",value:this.state.course.teacher,onChange:function(a){return e.handleChange(a,t,n)}})),f.a.createElement("div",{className:"input-button-group"},f.a.createElement(k.a,{style:{marginRight:"4px",paddingBottom:"5px"}},f.a.createElement(E.a,null,f.a.createElement(E.a.Toggle,{variant:"primary"},"Offered Blocks"),f.a.createElement(E.a.Menu,{style:{padding:"0"}},f.a.createElement(S.a,{type:"checkbox",vertical:!0,value:this.state.course.offeredBlocks,style:{width:"100%"},onChange:function(e,n){q.updateCourse(t,{offeredBlocks:e})}},new Array(this.state.blocks).fill(null).map(function(e,t){return f.a.createElement(O.a,{key:t,value:t,style:{width:"100%"}},"Block ",t+1)}))))),f.a.createElement(k.a,{style:{paddingBottom:"5px"}},f.a.createElement(C.a,{className:"courseListButton",onClick:function(){return e.addCourse(t,n)}},"+"),f.a.createElement(C.a,{className:"courseListButton",onClick:function(){return q.getCourses().length<2?q.updateCourse(t,{name:"",teacher:"",offeredBlocks:[]}):e.removeCourse(t,n)}},"-"))))}}]),t}(f.a.Component);p.a.render(f.a.createElement(z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");F?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):H(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):H(t,e)})}}()},76:function(e,t,n){e.exports=n(131)},83:function(e,t,n){}},[[76,1,2]]]);
//# sourceMappingURL=main.b20b6f67.chunk.js.map
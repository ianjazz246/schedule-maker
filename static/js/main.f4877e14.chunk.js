(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var a=n(62),r=n(72),o=n(73),s=n(24),l=n(25),c=n(31),i=n(30),u=n(10),d=n(32),h=n(0),m=n.n(h),f=n(15),v=n.n(f),p=n(33),g=n(23),b=n(49),k=n(113),y=n(114),C=n(115),B=n(112),w=n(41),E=n(118),N=n(66),O=n(116),S=n(117),j=n(70),x=n(71),R=(n(86),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function I(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var U=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;Object(s.a)(this,e),this.name=t,this.teacher=n,this.offeredBlocks=a,this.id=r,this.possibleBlocks=[]}return Object(l.a)(e,[{key:"clone",value:function(){return new e(this.name,this.teacher,this.offeredBlocks,this.id)}}]),e}(),A=new(0,n(87).EventEmitter),L=0,W=8,J=[new U("","",[],L++)];J=[new U("","",[],0)];var T={getCourses:function(){return J.slice()},subscribeUpdate:function(e){A.addListener("update",e)},unsubscribeUpdate:function(e){A.removeListener("update",e)},updateCourse:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];for(var a in t)J[e][a]=t[a];n&&localStorage.setItem("courses",JSON.stringify(J)),A.emit("update")},subscribeAddRemove:function(e){A.addListener("addRemove",e)},unsubscribeAddRemove:function(e){A.removeListener("addRemove",e)},addCourse:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];J=J.slice(0,e+1).concat(new U("","",[],L++),J.slice(e+1,J.length)),t&&localStorage.setItem("courses",JSON.stringify(J)),A.emit("addRemove")},removeCourse:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=J.slice();n.splice(e,1),J=n,t&&localStorage.setItem("courses",JSON.stringify(J)),A.emit("addRemove")},setCourses:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];J=e,A.emit("addRemove"),t&&localStorage.setItem("courses",JSON.stringify(J))},subscribeNumBlocksChange:function(e){A.addListener("numBlocks",e)},unsubscribeNumBlocksChange:function(e){A.removeListener("numBlocks",e)},getNumBlocks:function(){return W},setNumBlocks:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e!==W&&(W=e,A.emit("numBlocks")),t&&localStorage.setItem("numBlocks",e)},getNextId:function(){return L++},resetIds:function(){L=0}},M=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).makeSchedules=n.makeSchedules.bind(Object(u.a)(n)),n.prepareSchedule=n.prepareSchedule.bind(Object(u.a)(n)),n.scheduleDisplayRouteRender=n.scheduleDisplayRouteRender.bind(Object(u.a)(n)),n.state={schedules:[],blocks:4},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"prepareSchedule",value:function(e){var t=[],n=T.getNumBlocks();t.length=n;for(var a=[],r=0;r<n;++r)t[r]=[];var o=!0,s=!1,l=void 0;try{for(var c,i=e[Symbol.iterator]();!(o=(c=i.next()).done);o=!0){var u=c.value;if(u.offeredBlocks.length<2){if(a.includes(u.offeredBlocks[0]))break;var d=u.offeredBlocks[0];a.push(d),u.possibleBlocks.push(d)}var h=!0,m=!1,f=void 0;try{for(var v,p=u.offeredBlocks[Symbol.iterator]();!(h=(v=p.next()).done);h=!0){var g=v.value;a.includes(g)||u.possibleBlocks.push(g);var b=t[g];void 0!==b&&b.push(u)}}catch(k){m=!0,f=k}finally{try{h||null==p.return||p.return()}finally{if(m)throw f}}}}catch(k){s=!0,l=k}finally{try{o||null==i.return||i.return()}finally{if(s)throw l}}return t}},{key:"makeSchedules",value:function(e){var t=[];if(e.length<2)return e[0].map(function(e){return[e]});var n=!0,a=!1,s=void 0;try{for(var l,c=e[0][Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var i=l.value,u=[];u.length=e.length;for(var d=0,h=e.length;d<h;++d)u[d]=[];for(var m=1,f=e.length;m<f;++m)for(var v=void 0;-1!==(v=e[m].indexOf(i));)u[m].push(i),e[m].splice(v,1);var p=!1,g=!0,b=!1,k=void 0;try{for(var y,C=e[Symbol.iterator]();!(g=(y=C.next()).done);g=!0){y.value.length<1&&(p=!0)}}catch(D){b=!0,k=D}finally{try{g||null==C.return||C.return()}finally{if(b)throw k}}if(p);else{var B=this.makeSchedules(e.slice(1)),w=!0,E=!1,N=void 0;try{for(var O,S=B[Symbol.iterator]();!(w=(O=S.next()).done);w=!0){var j=O.value;t.push([i].concat(j))}}catch(D){E=!0,N=D}finally{try{w||null==S.return||S.return()}finally{if(E)throw N}}}var x=!0,R=!1,I=void 0;try{for(var U,A=u.entries()[Symbol.iterator]();!(x=(U=A.next()).done);x=!0){var L,W=U.value,J=Object(o.a)(W,2),T=J[0],M=J[1];(L=e[T]).push.apply(L,Object(r.a)(M))}}catch(D){R=!0,I=D}finally{try{x||null==A.return||A.return()}finally{if(R)throw I}}u=[]}}catch(D){a=!0,s=D}finally{try{n||null==c.return||c.return()}finally{if(a)throw s}}return t}},{key:"scheduleDisplayRouteRender",value:function(){return m.a.createElement(D,{schedules:this.state.schedules})}},{key:"render",value:function(){var e=this;return m.a.createElement(p.BrowserRouter,{basename:"/schedule-maker"},m.a.createElement(k.a,{bg:"light"},m.a.createElement(k.a.Brand,null,"Schedule Maker"),m.a.createElement(y.a,{variant:"tabs",defaultActiveKey:"/"},m.a.createElement(b.IndexLinkContainer,{style:{cursor:"pointer"},to:"/"},m.a.createElement(y.a.Item,{className:"nav-link"},"Enter Classes")),m.a.createElement(b.LinkContainer,{style:{cursor:"pointer"},to:"/output/"},m.a.createElement(y.a.Item,{className:"nav-link",onSelect:function(t){if("output"===t){var n=e.prepareSchedule(T.getCourses()),a=e.makeSchedules(n);e.setState({schedules:a})}}},"View Schedules")))),m.a.createElement(g.d,{exact:!0,path:"/output/",render:this.scheduleDisplayRouteRender}),m.a.createElement(g.d,{exact:!0,path:"/",component:G}))}},{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("courses")),t=localStorage.getItem("numBlocks");if(e&&e.length>0){var n=e.map(function(e){return new U(e.name,e.teacher,e.offeredBlocks)});T.setCourses(n)}"number"===typeof t&&T.setNumBlocks(t)}}]),t}(m.a.Component),D=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.schedules,t=[],n=T.getNumBlocks(),a=m.a.createElement(C.a,{variant:"danger"},m.a.createElement(C.a.Heading,null,"Unable to create schedule"),m.a.createElement("p",null,"There are no possible schedules from your classes. Make sure you have at least ",n," classes. If you believe this is a mistake, please leave an bug report on Github."));if(isNaN(n))return a;for(var r=function(e){t.push({id:"class"+(e+1),Header:"Block "+(e+1),style:{borderRight:"1px solid rgba(0, 0, 0, 0.2"},accessor:function(t){return t[e].name}})},o=0;o<n;++o)r(o);return e.length<1?a:m.a.createElement(x.a,{style:{padding:"10px"},data:e,columns:t,className:"-striped -highlight",defaultSorted:[{id:"block1",desc:!1}],filterable:!0,SubComponent:function(e){return m.a.createElement("div",{className:"rt-tr"},m.a.createElement("div",{className:"rt-td",style:{flex:"35 0 auto",width:"35px",maxWidth:"35px",wordWrap:"break-word"}},"Teacher"),e.original.map(function(e,t){return m.a.createElement("div",{key:t,className:"rt-td",style:{flex:"100 0 auto",width:"100px"}},e.teacher)}))}})}}]),t}(m.a.Component),G=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={courses:T.getCourses()},console.log(n.state.courses),n.onAddRemove=n.onAddRemove.bind(Object(u.a)(n)),n.handleChange=n.handleNumBlocksChange.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onAddRemove",value:function(){var e=T.getCourses();console.log(e),this.setState({courses:e}),console.log(this.state.courses)}},{key:"componentWillMount",value:function(){T.subscribeAddRemove(this.onAddRemove)}},{key:"shouldComponentUpdate",value:function(e,t){return t.courses.length!==this.state.courses.length}},{key:"handleNumBlocksChange",value:function(e){T.setNumBlocks(parseInt(e.target.value)),this.forceUpdate()}},{key:"getInputValue",value:function(){var e;return isNaN(e=T.getNumBlocks())?"":e}},{key:"handleRemoveAllButton",value:function(){T.setCourses([new U("","",[],T.getNextId())]),localStorage.removeItem("courses")}},{key:"render",value:function(){var e=this.props.scheduleApp;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{style:{position:"relative",paddingLeft:"1.25rem"}},m.a.createElement(B.a.Group,{controlId:"blocksInput"},m.a.createElement(B.a.Label,null,"Number of blocks:"),m.a.createElement(B.a.Control,{value:this.getInputValue(),onChange:this.handleNumBlocksChange,type:"number",min:"1"})),m.a.createElement(w.a,{variant:"primary",onClick:this.handleRemoveAllButton,style:{position:"absolute",top:"50%",transform:"translateY(calc(-50% + 0.5rem))",marginLeft:"4px"}},"Remove all")),m.a.createElement(E.a,null,this.state.courses.map(function(t,n){return m.a.createElement(V,{key:t.id,name:t.name,index:n,teacher:t.teacher,offeredBlocks:t.offeredBlocks,appInstance:e})})))}}]),t}(m.a.Component),V=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).addCourse=n.addCourse.bind(Object(u.a)(n)),n.removeCourse=n.removeCourse.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.onCourseUpdate=n.onCourseUpdate.bind(Object(u.a)(n)),n.onBlockUpdate=n.onBlockUpdate.bind(Object(u.a)(n)),n.state={course:T.getCourses()[n.props.index].clone(),blocks:T.getNumBlocks()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"addCourse",value:function(e,t){T.addCourse(e)}},{key:"removeCourse",value:function(e,t){T.removeCourse(e)}},{key:"handleChange",value:function(e,t,n){T.updateCourse(t,Object(a.a)({},e.target.name,e.target.value))}},{key:"onCourseUpdate",value:function(){var e=T.getCourses()[this.props.index].clone();e.name===this.state.course.name&&e.teacher===this.state.course.teacher&&e.id===this.state.course.id&&function(e,t){if(e.length!==t.length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(e.offeredBlocks,this.state.course.offeredBlocks)||this.setState({course:e})}},{key:"onBlockUpdate",value:function(){var e=T.getNumBlocks();isNaN(e)||this.setState({blocks:e})}},{key:"componentWillMount",value:function(){T.subscribeUpdate(this.onCourseUpdate),T.subscribeNumBlocksChange(this.onBlockUpdate)}},{key:"componentWillUnmount",value:function(){T.unsubscribeUpdate(this.onCourseUpdate),T.unsubscribeNumBlocksChange(this.onBlockUpdate)}},{key:"render",value:function(){var e=this,t=this.props.index,n=this.props.appInstance;return m.a.createElement(E.a.Item,null,m.a.createElement(B.a.Group,{controlId:"courseInput"+t},m.a.createElement(B.a.Label,null,"Class Name"),m.a.createElement(B.a.Control,{placeholder:"Class Name",name:"name",value:this.state.course.name,onChange:function(a){return e.handleChange(a,t,n)}})),m.a.createElement(B.a.Group,{controlId:"courseInput"+t},m.a.createElement(B.a.Label,null,"Teacher"),m.a.createElement(B.a.Control,{placeholder:"Teacher",name:"teacher",value:this.state.course.teacher,onChange:function(a){return e.handleChange(a,t,n)}})),m.a.createElement("div",{className:"input-button-group"},m.a.createElement(N.a,{style:{marginRight:"4px",paddingBottom:"5px"}},m.a.createElement(O.a,null,m.a.createElement(O.a.Toggle,{variant:"primary"},"Offered Blocks"),m.a.createElement(O.a.Menu,{style:{padding:"0"}},m.a.createElement(S.a,{type:"checkbox",vertical:!0,value:this.state.course.offeredBlocks,style:{width:"100%"},onChange:function(e,n){T.updateCourse(t,{offeredBlocks:e})}},new Array(this.state.blocks).fill(null).map(function(e,t){return m.a.createElement(j.a,{key:t,value:t,style:{width:"100%"}},"Block ",t+1)}))))),m.a.createElement(N.a,{style:{paddingBottom:"5px"}},m.a.createElement(w.a,{className:"courseListButton",onClick:function(){return e.addCourse(t,n)}},"+"),m.a.createElement(w.a,{className:"courseListButton",onClick:function(){return T.getCourses().length<2?T.updateCourse(t,{name:"",teacher:"",offeredBlocks:[]}):e.removeCourse(t,n)}},"-"))))}}]),t}(m.a.Component);v.a.render(m.a.createElement(M,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/schedule-maker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/schedule-maker","/service-worker.js");R?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):I(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):I(t,e)})}}()},74:function(e,t,n){e.exports=n(110)},86:function(e,t,n){}},[[74,1,2]]]);
//# sourceMappingURL=main.f4877e14.chunk.js.map
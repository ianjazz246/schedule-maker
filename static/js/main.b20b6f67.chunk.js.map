{"version":3,"sources":["serviceWorker.js","class.js","CoursesStore.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","Class","name","arguments","length","undefined","teacher","offeredBlocks","id","Object","classCallCheck","this","possibleBlocks","emitter","EventEmitter","require","ids","blocks","courses","CoursesStore","getCourses","slice","subscribeUpdate","callback","addListener","unsubscribeUpdate","removeListener","updateCourse","index","newValues","prop","emit","subscribeAddRemove","unsubscribeAddRemove","addCourse","concat","removeCourse","coursesCopy","splice","subscribeBlocksChange","unsubscribeBlocksChange","getBlocks","changeBlocks","newBlocks","ScheduleApp","props","_this","possibleConstructorReturn","getPrototypeOf","call","makeSchedules","bind","assertThisInitialized","prepareSchedule","schedules","classes","classTimes","numOfBlocks","reservedBlocks","i","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","c","value","includes","block","push","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","classesInBlock","err","return","blocksPossibleClasses","possibleSchedules","map","val","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","aClass","removals","n","m","indexOf","noSchedule","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","partialPossibleSchedules","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","partialSchedule","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","entries","_blocksPossibleClasse","_ref3","_ref2","slicedToArray","el","apply","toConsumableArray","_this2","react_default","a","createElement","Fragment","Navbar_default","bg","Brand","Tabs_default","onSelect","key","setState","Tab_default","eventKey","title","src_CourseInput","scheduleApp","src_ScheduleDisplay","React","Component","ScheduleDisplay","data","columns","errorAlert","Alert_default","variant","Heading","isNaN","_loop","Header","style","borderRight","accessor","d","es","padding","className","defaultSorted","desc","filterable","SubComponent","row","flex","width","maxWidth","wordWrap","original","CourseInput","_this3","onAddRemove","handleChange","nextProps","nextState","event","parseInt","target","forceUpdate","appInstance","Form_default","Group","controlId","Label","Control","getInputValue","onChange","type","min","ListGroup_default","course","src_CourseInputRow","CourseInputRow","_this4","onCourseUpdate","onBlockUpdate","clone","defineProperty","newCourse","arr1","arr2","arraysEqual","_this5","Item","placeholder","ButtonGroup_default","marginRight","paddingBottom","Dropdown_default","Toggle","Menu","ToggleButtonGroup_default","vertical","Array","fill","_","index2","ToggleButton_default","Button_default","onClick","ReactDOM","render","src_ScheduleApp","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b20b6f67.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","class Class {\r\n    constructor(name = \"\", teacher = \"\", offeredBlocks = [], id) {\r\n        this.name = name;\r\n        this.teacher = teacher;\r\n        this.offeredBlocks = offeredBlocks;\r\n        this.id = id;\r\n        this.possibleBlocks = [];\r\n\r\n        //add self to class schedules\r\n        /* for (const block of offeredBlocks) {\r\n            classTimes[block - 1].push(this);\r\n        } */\r\n    }\r\n\r\n    clone() {\r\n        return new Class(this.name, this.teacher, this.offeredBlocks, this.id);\r\n    }\r\n}\r\n\r\nexport default Class;","import Class from \"./class.js\";\r\n\r\nlet EventEmitter = require(\"events\").EventEmitter;\r\n\r\nlet emitter = new EventEmitter();\r\n\r\nlet ids = 0;\r\n\r\nlet blocks = 8;\r\n\r\nlet courses = [new Class(\"\", \"\", [], ids++)];\r\n\r\n//Test Schedule\r\n//Make sure it's blank in production\r\ncourses = [\r\n    new Class(\"\", \"\", [], 0)\r\n    /* new Class(\"A\", \"A\", [0, 3, 6, 7], ids++),\r\n    new Class(\"B\", \"B\", [0, 1, 2, 3, 5], ids++),\r\n    new Class(\"C\", \"C\", [0, 1, 6, 7], ids++),\r\n    new Class(\"D\", \"D\", [2, 3, 5, 6], ids++),\r\n    new Class(\"E\", \"E\", [2, 3, 4, 6], ids++),\r\n    new Class(\"F\", \"F\", [0, 1, 2, 3, 4, 5, 6, 7], ids++),\r\n    new Class(\"G\", \"G\", [0, 1, 2, 3, 4], ids++),\r\n    new Class(\"H\", \"H\", [0, 1, 2, 6, 7], ids++), */\r\n\r\n];\r\n\r\n\r\n\r\n\r\n\r\nexport default {\r\n    getCourses: function() {\r\n        //objects inside are same.\r\n        //Don't modify them outside\r\n        return courses.slice();\r\n    },\r\n    subscribeUpdate: function(callback) {\r\n        emitter.addListener(\"update\", callback);\r\n    },\r\n    unsubscribeUpdate: function(callback) {\r\n        emitter.removeListener(\"update\", callback);\r\n    },\r\n    updateCourse: function(index, newValues) {\r\n        for (const prop in newValues) {\r\n            courses[index][prop] = newValues[prop];\r\n        }\r\n\r\n        emitter.emit(\"update\");\r\n    },\r\n    subscribeAddRemove: function(callback) {\r\n        emitter.addListener(\"addRemove\", callback);\r\n    },\r\n    unsubscribeAddRemove: function(callback) {\r\n        emitter.removeListener(\"addRemove\", callback);\r\n    },\r\n    addCourse: function(index) {\r\n        courses = courses.slice(0, index + 1).concat(new Class(\"\", \"\", [], ids++), courses.slice(index + 1, courses.length));\r\n        emitter.emit(\"addRemove\");\r\n    },\r\n    removeCourse: function(index) {\r\n        let coursesCopy = courses.slice();\r\n        coursesCopy.splice(index, 1);\r\n        courses = coursesCopy;\r\n        emitter.emit(\"addRemove\");\r\n    },\r\n    subscribeBlocksChange: function(callback) {\r\n        emitter.addListener(\"blocksChange\", callback);\r\n    },\r\n    unsubscribeBlocksChange: function(callback) {\r\n        emitter.removeListener(\"blocksChange\", callback);\r\n    },\r\n    getBlocks: function() {\r\n        return blocks;\r\n    },\r\n    changeBlocks: function(newBlocks) {\r\n        if (newBlocks !== blocks) {\r\n            blocks = newBlocks;\r\n            emitter.emit(\"blocksChange\");\r\n        }\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\n//import Table from \"react-bootstrap/Table\";\r\n\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\n//import DropdownButton from \"react-bootstrap/DropdownButton\";\r\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\r\nimport ToggleButtonGroup from \"react-bootstrap/ToggleButtonGroup\";\r\nimport Tabs from \"react-bootstrap/Tabs\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Form from \"react-bootstrap/Form\";\r\n// import Row from \"react-bootstrap/Row\";\r\n// import Col from \"react-bootstrap/Col\";\r\n\r\n//Import react-table\r\nimport ReactTable from \"react-table\";\r\n// import \"react-table/react-table.css\";\r\n\r\nimport \"./index.css\";\r\n// import \"./schedule.js\";\r\n\r\n//import service worker for progressive web app\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// import Class from \"./class.js\";\r\n\r\n//Datastore\r\nimport CoursesStore from \"./CoursesStore.js\";\r\n// const CoursesStore = require(\"./CoursesStore.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ScheduleApp extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.makeSchedules = this.makeSchedules.bind(this);\r\n        this.prepareSchedule = this.prepareSchedule.bind(this);\r\n        // this.ids = 0;\r\n\r\n        //to remove\r\n        this.state = {\r\n            schedules: [],\r\n            // courses: [new Class(\"A\", \"A\", [0, 3], this.ids++), new Class(\"B\", \"B\", [0, 2, 3], this.ids++), new Class(\"C\", \"C\", [0, 1], this.ids++), new Class(\"D\", \"D\", [2, 3], this.ids++)],\r\n            blocks: 4,\r\n            //reservedBlocks: []\r\n            //make use of reservedBlocks to increase efficiency\r\n        };\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    prepareSchedule(classes) {\r\n        //Prepare schedules\r\n        let classTimes = [];\r\n        let numOfBlocks = CoursesStore.getBlocks();\r\n        classTimes.length = numOfBlocks;\r\n\r\n        let reservedBlocks = [];\r\n\r\n        //need to manually fill it\r\n        for (let i = 0; i < numOfBlocks; ++i) {\r\n            classTimes[i] = [];\r\n        }\r\n\r\n        for (let c of classes) {\r\n            if (c.offeredBlocks.length < 2) {\r\n                //Two classes only available at same time\r\n                if (reservedBlocks.includes(c.offeredBlocks[0])) {\r\n                    //Add handle error \r\n                    // console.log(\"No possible schedule\");\r\n                    break;\r\n                }\r\n\r\n                let block = c.offeredBlocks[0];\r\n                reservedBlocks.push(block);\r\n\r\n                //possibleBlocks currently not used\r\n                c.possibleBlocks.push(block);\r\n            }\r\n\r\n            for (let block of c.offeredBlocks) {\r\n                // console.log(block);\r\n                if (!reservedBlocks.includes(block)) {\r\n                    c.possibleBlocks.push(block);\r\n                }\r\n\r\n                let classesInBlock = classTimes[block];\r\n\r\n                if (classesInBlock !== undefined) {\r\n                    classesInBlock.push(c);\r\n                }\r\n            }\r\n        }\r\n\r\n        /* for (let classes of classTimes) {\r\n            //if one block has only one class available, \r\n            if (classes.length < 2) {\r\n\r\n            }\r\n        } */\r\n\r\n        // console.log(classTimes);\r\n        return classTimes;\r\n    }\r\n\r\n    makeSchedules(blocksPossibleClasses) {\r\n\r\n        let possibleSchedules = [];\r\n\r\n        //if only one block in blocksArray, then have reached end of recursion. Return values.\r\n        if (blocksPossibleClasses.length < 2) {\r\n\r\n            //Create array with each class in a separate index\r\n            return blocksPossibleClasses[0].map(val => [val]);\r\n        }\r\n        else {\r\n            for (let aClass of blocksPossibleClasses[0]) {\r\n\r\n                //nested array of removals from each block in blocksPossibleClasses\r\n                let removals = [];\r\n                removals.length = blocksPossibleClasses.length;\r\n                for (let i = 0, n = blocksPossibleClasses.length; i < n; ++i) {\r\n                    removals[i] = [];\r\n                }\r\n\r\n                // let classPossibleSchedules = [];\r\n\r\n                //make deep copy of blocksPossibleClasses\r\n                //let tempPossibleSchedules = JSON.parse(JSON.stringify(blocksPossibleClasses));\r\n\r\n                //for each block, remove all occurances of the current class in the current block\r\n                //skipping current block.\r\n                for (let i = 1, n = blocksPossibleClasses.length; i < n; ++i) {\r\n                    let m;\r\n                    while ((m = blocksPossibleClasses[i].indexOf(aClass)) !== -1) {\r\n                        removals[i].push(aClass);\r\n                        blocksPossibleClasses[i].splice(m, 1);\r\n                    }\r\n                }\r\n\r\n                //flag for whether shedule is impossible with the current class\r\n                let noSchedule = false;\r\n                for (let block of blocksPossibleClasses) {\r\n                    if (block.length < 1) {\r\n                        noSchedule = true;\r\n                        // break;\r\n                    }\r\n                }\r\n\r\n                if (noSchedule) {\r\n                }\r\n                else {\r\n                    let partialPossibleSchedules = this.makeSchedules(blocksPossibleClasses.slice(1));\r\n\r\n                    //iterate through the returned possible schedules\r\n                    for (let partialSchedule of partialPossibleSchedules) {\r\n                        possibleSchedules.push([aClass].concat(partialSchedule));\r\n                    }\r\n\r\n\r\n\r\n                    //possibleSchedules.push(makeSchedules(blocksPossibleClasses.slice(1), currSchedule.push(block)));\r\n                }\r\n\r\n                //add back in the removed classes\r\n                for (const [i, el] of removals.entries()) {\r\n                        //need to modify original blocksPossibleClasses\r\n\r\n                        //blocksPossibleClasses[i] = blocksPossibleClasses[i].concat(el);\r\n                        blocksPossibleClasses[i].push(...el);                    \r\n                }\r\n                removals = [];\r\n            }\r\n            return possibleSchedules;\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        // console.log(this.state.courses);\r\n        return (\r\n            //later: add Tab to switch between output and input\r\n            //<ScheduleDisplay schedules={this.state.schedules} />\r\n            <>\r\n                <Navbar bg=\"light\">\r\n                    <Navbar.Brand>Schedule Maker</Navbar.Brand>\r\n                </Navbar>\r\n                <Tabs\r\n                    onSelect={(key) => {\r\n                        if (key === \"output\") {\r\n                            let classes = this.prepareSchedule(CoursesStore.getCourses());\r\n                            // console.log(classes);\r\n                            let schedules = this.makeSchedules(classes);\r\n\r\n\r\n                            // this.setState({\r\n                            //     schedules: this.makeSchedules(classes)\r\n                            // });\r\n\r\n                            // console.log(schedules);\r\n\r\n                            this.setState({\r\n                                schedules\r\n                            })\r\n                        }\r\n                    }}\r\n                >\r\n                    <Tab eventKey=\"input\" title=\"Input\">\r\n                        <CourseInput courses={this.state.courses} scheduleApp={this} />\r\n                    </Tab>\r\n                    <Tab eventKey=\"output\" title=\"Output\">\r\n                        <ScheduleDisplay schedules={this.state.schedules} scheduleApp={this} />\r\n                    </Tab>\r\n                </Tabs>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n/* function ScheduleRow(props) {\r\n    return (\r\n        <>\r\n            {console.log(props)}\r\n            {global.schedules.map(element => (\r\n                <td>\r\n                    {element[props.block].name}\r\n                </td>\r\n            ))}\r\n        </>\r\n    )\r\n} */\r\n\r\nclass ScheduleDisplay extends React.Component {\r\n    /* constructor(props) {\r\n        super(props);\r\n    } */\r\n\r\n    render() {\r\n        //let headerArray = [];\r\n\r\n        //create table headers\r\n        /* for (let i = 0; i < global.numOfBlocks; ++i) {\r\n            headerArray.push(\r\n                <div>{i}</div>\r\n            );\r\n        } */\r\n\r\n        /* let tableHeaderArray = new Array(global.numOfBlocks).fill(null);\r\n        //create table headers\r\n        for (let i = 0; i < global.numOfBlocks; ++i) {\r\n            tableHeaderArray.push(\r\n                <tr>\r\n                    <th class=\"header\">{i}</th>\r\n                    <ScheduleRow block={i} />\r\n                </tr>\r\n            );\r\n        } */\r\n\r\n\r\n        /* let tempColumns = [];\r\n        for (let i = 1; i < global.numOfBlocks; ++i) {\r\n            //add column header for each block\r\n            tempColumns.push({\r\n                id: \"block\" + i,\r\n                Header: \"\",\r\n                accessor: d => d[i]\r\n            });\r\n        } */\r\n\r\n        /* function processData(data) {\r\n            let tempData = [];\r\n\r\n            for (let i = 0; i < global.numOfBlocks; ++i) {\r\n                //add block number beginning to each row\r\n                tempData.push([i + 1]);\r\n            }\r\n\r\n\r\n            for (let schedule of data) {\r\n                for (let [index, course] of schedule.entries()) {\r\n                    tempData[index].push(course.name);\r\n                }\r\n            }\r\n\r\n            return tempData;\r\n        } */\r\n\r\n\r\n\r\n        const data = this.props.schedules;\r\n        // const appInstance = this.props.scheduleApp;\r\n\r\n        let columns = [];\r\n\r\n        const blocks = CoursesStore.getBlocks();\r\n\r\n        let errorAlert = (\r\n            <Alert variant=\"danger\">\r\n                <Alert.Heading>Unable to create schedule</Alert.Heading>\r\n                <p>There are no possible schedules from your classes. Make sure you have at least {blocks} classes. If you believe this is a mistake, please leave an bug report on Github.</p>\r\n            </Alert>\r\n        );\r\n\r\n        if (isNaN(blocks)) {\r\n            return errorAlert;\r\n        }\r\n\r\n        for (let i = 0; i < blocks; ++i) {\r\n            columns.push(\r\n                /* {\r\n                    Header: \"Block \" + (i + 1),\r\n                    id: \"block\" + (i + 1),\r\n                    // accessor: d => d[i].name,\r\n                    columns: [{\r\n                        id: \"class\" + (i + 1),\r\n                        Header: \"Class\",\r\n                        accessor: d => d[i].name\r\n                    },\r\n                    {\r\n                        id: \"teacher\" + (i + 1),\r\n                        Header: \"Teacher\",\r\n                        style: {borderRight: \"1px solid rgba(0, 0, 0, 0.2\"},\r\n                        aggregate: (values, rows) => values.length,\r\n                        Aggregated: row => {\r\n                            return (\r\n                                <span>\r\n                                    ({row.value})\r\n                                </span>\r\n                            )\r\n                        },\r\n                        accessor: d => d[i].teacher\r\n                    }]\r\n                } */\r\n                {\r\n                    id: \"class\" + (i + 1),\r\n                    Header: \"Block \" + (i + 1),\r\n                    style: {borderRight: \"1px solid rgba(0, 0, 0, 0.2\"},\r\n                    accessor: d => d[i].name\r\n                }\r\n            )\r\n        }\r\n\r\n\r\n        /* const columns = [{\r\n            Header: \"\",\r\n            fixed: \"left\",\r\n            columns: [\r\n                {\r\n                    id: \"header\",\r\n                    Header: \"Block\",\r\n                    width: 80,\r\n                    accessor: d => d[0]\r\n                }\r\n            ]\r\n        }].concat({Header:\"Classes\",\r\n            headerClassName: \"classes-header-group\",\r\n            columns: tempColumns}); */\r\n\r\n\r\n        const DEFAULT_SORT = [\r\n            {\r\n                id: \"block1\",\r\n                desc: false\r\n            }\r\n        ];\r\n\r\n        if (data.length < 1) {\r\n            return errorAlert;\r\n        }\r\n        else {\r\n            return (\r\n                <ReactTable\r\n                    style={{ padding: \"10px\"}}\r\n                    data={data}\r\n                    columns={columns}\r\n                    className=\"-striped -highlight\"\r\n                    defaultSorted={DEFAULT_SORT}\r\n                    filterable={true}\r\n                    SubComponent={row => {\r\n                        return (\r\n                            <div className=\"rt-tr\">\r\n                            <div className=\"rt-td\" style={{flex: \"35 0 auto\", width: \"35px\", maxWidth: \"35px\", wordWrap: \"break-word\"}}>Teacher</div>\r\n                                {row.original.map((val , index) =>\r\n                                    <div key={index} className=\"rt-td\" style={{flex: \"100 0 auto\", width: \"100px\"}}>{val.teacher}</div>\r\n                                )}\r\n                            </div>\r\n                        )\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        /* return (\r\n            <>\r\n            <div class=\"header\">\r\n                {headerArray}\r\n            </div>\r\n            {global.schedules.map(element => (\r\n            <div class=\"schedule\">\r\n                <Schedule classes={element}></Schedule>\r\n            </div>))}\r\n            </>\r\n        ) */\r\n\r\n\r\n        /* return (\r\n            <div class=\"tableContainer\">\r\n                <Table striped hover>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th class=\"header\">Block</th>\r\n                            <td class=\"invisibleHeader\">B</td>\r\n                            <td></td>\r\n                            <td></td>\r\n                        </tr>\r\n                        {tableHeaderArray}\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        ) */\r\n\r\n\r\n    }\r\n}\r\n\r\nclass CourseInput extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.addCourse = this.addCourse.bind(this);\r\n        // this.removeCourse = this.removeCourse.bind(this);\r\n        this.state = {\r\n            courses: CoursesStore.getCourses()\r\n        };\r\n        this.onAddRemove = this.onAddRemove.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    onAddRemove() {\r\n        this.setState({\r\n            courses: CoursesStore.getCourses()\r\n        });\r\n    }\r\n \r\n    componentWillMount() {\r\n        CoursesStore.subscribeAddRemove(this.onAddRemove);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (nextState.courses.length !== this.state.courses.length) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    handleChange(event) {\r\n        // let newValue = parseInt(event.target.value);\r\n        CoursesStore.changeBlocks(parseInt(event.target.value));\r\n        this.forceUpdate();\r\n    }\r\n\r\n    getInputValue() {\r\n        let n;\r\n        if (isNaN((n = CoursesStore.getBlocks()))) {\r\n                return \"\";\r\n        }\r\n        return n;\r\n    }\r\n\r\n    /* addCourse(index, appInstance) {\r\n        appInstance.setState({\r\n            courses: appInstance.state.courses.slice(0, index + 1).concat(new Class(\"\", \"\", [], appInstance.ids++), appInstance.state.courses.slice(index + 1, appInstance.state.courses.length))\r\n        });\r\n    }\r\n\r\n    /*removeCourse(index, appInstance) {\r\n        let newCourses = appInstance.state.courses.slice();\r\n        newCourses.splice(index, 1);\r\n        //console.log(index);\r\n        appInstance.setState({\r\n            courses: newCourses\r\n        });\r\n    }\r\n\r\n    handleOnChange(event, index, appInstance) {\r\n\r\n        let propName = event.target.name;\r\n        let value = appInstance.state.courses.slice();\r\n        value[index][propName] = event.target.value;\r\n\r\n        appInstance.setState({\r\n            [propName]: value\r\n        });\r\n    } */\r\n\r\n    render() {\r\n        const appInstance = this.props.scheduleApp;\r\n        // console.log(this.state.courses);\r\n        return (\r\n            <>\r\n            <Form.Group controlId=\"blocksInput\">\r\n                <Form.Label>Number of blocks:</Form.Label>\r\n                <Form.Control value={this.getInputValue()} onChange={this.handleChange} type=\"number\" min=\"1\"/>\r\n            </Form.Group>\r\n            <ListGroup>\r\n                {\r\n                    this.state.courses.map((course, index) => \r\n                    <CourseInputRow \r\n                        key={course.id}\r\n                        name={course.name}\r\n                        index={index}\r\n                        teacher={course.teacher}\r\n                        offeredBlocks={course.offeredBlocks}\r\n                        appInstance={appInstance}\r\n                    />\r\n                    )\r\n                }\r\n            </ListGroup>\r\n            </>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nclass CourseInputRow extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.addCourse = this.addCourse.bind(this);\r\n        this.removeCourse = this.removeCourse.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.onCourseUpdate = this.onCourseUpdate.bind(this);\r\n        this.onBlockUpdate = this.onBlockUpdate.bind(this);\r\n        this.state = {\r\n            course: CoursesStore.getCourses()[this.props.index].clone(),\r\n            blocks: CoursesStore.getBlocks()\r\n        };\r\n\r\n        // console.log(this.state.course);\r\n    }\r\n\r\n    addCourse(index, appInstance) {\r\n        // appInstance.setState({\r\n        //     courses: appInstance.state.courses.slice(0, index + 1).concat(new Class(\"\", \"\", [], appInstance.ids++), appInstance.state.courses.slice(index + 1, appInstance.state.courses.length))\r\n        // });\r\n        CoursesStore.addCourse(index);\r\n    }\r\n\r\n    removeCourse(index, appInstance) {\r\n        // let newCourses = appInstance.state.courses.slice();\r\n        // newCourses.splice(index, 1);\r\n        // //console.log(index);\r\n        // appInstance.setState({\r\n        //     courses: newCourses\r\n        // });\r\n        // console.log(index);\r\n        CoursesStore.removeCourse(index);\r\n    }\r\n\r\n    handleChange(event, index, appInstance) {\r\n        // let propName = event.target.name;\r\n        // let value = appInstance.state.courses.slice();\r\n        // value[index][propName] = event.target.value;\r\n\r\n        // appInstance.setState({\r\n        //     [propName]: value\r\n        // });\r\n\r\n        // console.log(\"change\");\r\n        // console.log(event.target.name);\r\n        // console.log(event.target.value);\r\n\r\n        // console.log(this.state.course.name);\r\n\r\n        //event.target.name is set to the name of the property it corresponds to in the Class class.\r\n        CoursesStore.updateCourse(index, {\r\n            [event.target.name]: event.target.value\r\n        });\r\n\r\n    }\r\n\r\n    onCourseUpdate() {\r\n\r\n        //not a general purpose function for checking any array, just in this case where I know both are arrays (not objects or maps, for instance)\r\n        function arraysEqual(arr1, arr2) {\r\n            if (arr1.length !== arr2.length) return false;\r\n            for (const i in arr1) {\r\n                if (arr1[i] !== arr2[i]) return false;\r\n            }\r\n            return true;\r\n        }\r\n        // console.log(\"Setting Course\");\r\n        // console.log(\"Before:\" + this.state.course.name);\r\n\r\n        //check if state is same so doesn't call setState and have to go through shouldComponentUpdate\r\n        let newCourse = CoursesStore.getCourses()[this.props.index].clone();\r\n\r\n        if (newCourse.name !== this.state.course.name || newCourse.teacher !== this.state.course.teacher ||\r\n            newCourse.id !== this.state.course.id ||  !arraysEqual(newCourse.offeredBlocks, this.state.course.offeredBlocks)) {\r\n                this.setState({\r\n                    course: newCourse\r\n                });\r\n            }\r\n\r\n        // console.log(\"After:\" + this.state.course.name);\r\n        \r\n    }\r\n\r\n    onBlockUpdate() {\r\n        const newBlocks = CoursesStore.getBlocks();\r\n        if (!isNaN(newBlocks)) {\r\n            this.setState({\r\n            blocks: newBlocks\r\n        });\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        CoursesStore.subscribeUpdate(this.onCourseUpdate);\r\n        CoursesStore.subscribeBlocksChange(this.onBlockUpdate);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        CoursesStore.unsubscribeUpdate(this.onCourseUpdate);\r\n        CoursesStore.unsubscribeBlocksChange(this.onBlockUpdate);\r\n    }\r\n\r\n    /* shouldComponentUpdate(nextProps, nextState) {\r\n        if (this.state.course.name !== nextState.course.name || this.state.course.teacher !== nextState.course.teacher ||\r\n            this.state.course.offeredBlocks !== nextState.course.offeredBlocks || nextProps.teacher !== this.props.teacher\r\n            || nextProps.offeredBlocks !== this.props.offeredBlocks || nextProps.index !== this.props.index) {\r\n            console.log(\"Different\");\r\n            return true;\r\n        }\r\n        return false;\r\n    } */\r\n\r\n    render() {\r\n\r\n        //required props:\r\n        //name, teacher, offeredBlocks, index, appInstance\r\n        const index = this.props.index;\r\n        const appInstance = this.props.appInstance;\r\n\r\n        return (\r\n            <ListGroup.Item>\r\n                    <Form.Group controlId={\"courseInput\" + index}>\r\n                        <Form.Label>Class Name</Form.Label>\r\n                        <Form.Control\r\n                            placeholder=\"Class Name\"\r\n                            name=\"name\"\r\n                            value={this.state.course.name}\r\n                            onChange={(event) => this.handleChange(event, index, appInstance)}/>\r\n                    </Form.Group>\r\n                    <Form.Group controlId={\"courseInput\" + index}>\r\n                        <Form.Label>Teacher</Form.Label>\r\n                        <Form.Control\r\n                            placeholder=\"Teacher\"\r\n                            name=\"teacher\"\r\n                            value={this.state.course.teacher}\r\n                            onChange={(event) => this.handleChange(event, index, appInstance)}/>\r\n                    </Form.Group>\r\n                {/* <form>\r\n                    <div style={{ display: \"inline-block\" }}>\r\n                        <label htmlFor=\"nameInput\" style={{marginRight: \"4px\"}}>Course Name: </label>\r\n                        <input\r\n                            id=\"nameInput\"\r\n                            className=\"courseInput\"\r\n                            placeholder=\"Class name\"\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            value={this.state.course.name}\r\n                            onChange={(event) => this.handleChange(event, index, appInstance)}\r\n                        ></input>\r\n                        <label htmlFor=\"teacherInput\" style={{marginRight: \"4px\"}}>Teacher: </label>\r\n                        <input\r\n                            id=\"teacherInput\"\r\n                            className=\"courseInput\"\r\n                            placeholder=\"Teacher\"\r\n                            type=\"text\"\r\n                            name=\"teacher\"\r\n                            value={this.state.course.teacher}\r\n                            onChange={(event) => this.handleChange(event, index, appInstance)}\r\n                        >\r\n                        </input>\r\n                    </div> */}\r\n                    <div className=\"input-button-group\">\r\n                    <ButtonGroup style={{ marginRight: \"4px\", paddingBottom: \"5px\" }}>\r\n                        <Dropdown>\r\n                            <Dropdown.Toggle variant=\"primary\">Offered Blocks</Dropdown.Toggle>\r\n                            <Dropdown.Menu style={{ padding: \"0\" }}>\r\n                                {/*<DropdownButton as={ButtonGroup} title=\"Offered Blocks\">*/}\r\n                                {/* <Dropdown.Item as=\"div\" style={{padding: \"0 !important\"}}> */}\r\n                                <ToggleButtonGroup type=\"checkbox\" vertical\r\n                                    value={this.state.course.offeredBlocks}\r\n                                    style={{ width: \"100%\" }}\r\n                                    onChange={(value, event) => {\r\n                                        /* console.log(index);\r\n                                        console.log(appInstance.state.courses[0]);\r\n                                        console.log(value); */\r\n\r\n                                        CoursesStore.updateCourse(index, {\r\n                                            offeredBlocks: value\r\n                                        });\r\n\r\n                                        /* const newCourses = appInstance.state.courses.slice();\r\n                                        newCourses[index].offeredBlocks = value;\r\n\r\n                                        appInstance.setState({\r\n                                            courses: newCourses\r\n                                        }); */\r\n                                    }}\r\n                                >\r\n                                    {\r\n                                        (new Array(this.state.blocks).fill(null)).map((_, index2) =>\r\n\r\n                                            <ToggleButton key={index2} value={index2} style={{ width: \"100%\" }}>Block {index2 + 1}</ToggleButton>\r\n                                        )\r\n                                    }\r\n                                </ToggleButtonGroup>\r\n                                {/* </Dropdown.Item> */}\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n                        {/* </DropdownButton> */}\r\n                    </ButtonGroup>\r\n                    <ButtonGroup style={{ paddingBottom: \"5px\"}}>\r\n                        <Button className=\"courseListButton\" onClick={() => this.addCourse(index, appInstance)}>+</Button>\r\n                        <Button className=\"courseListButton\"\r\n                                onClick={() => CoursesStore.getCourses().length < 2 ? CoursesStore.updateCourse(index, {name: \"\", teacher: \"\", offeredBlocks: []}) :\r\n                                this.removeCourse(index, appInstance)}\r\n                        >-\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                    </div>\r\n                {/* </form> */}\r\n            </ListGroup.Item>\r\n        )\r\n    }\r\n}\r\n\r\nReactDOM.render(\r\n    <ScheduleApp />,\r\n    document.getElementById(\"root\")\r\n);\r\n\r\n//register service worker\r\nserviceWorker.register();"],"sourceRoot":""}
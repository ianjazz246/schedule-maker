(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var a=n(62),r=n(73),o=n(72),l=n(24),c=n(25),s=n(32),i=n(30),u=n(10),d=n(31),h=n(0),f=n.n(h),m=n(15),p=n.n(m),v=n(33),b=n(23),g=n(49),k=n(113),y=n(116),C=n(114),E=n(112),w=n(118),B=n(66),O=n(115),j=n(117),x=n(70),S=n(41),R=n(71),U=(n(86),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function I(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;Object(l.a)(this,e),this.name=t,this.teacher=n,this.offeredBlocks=a,this.id=r,this.possibleBlocks=[]}return Object(c.a)(e,[{key:"clone",value:function(){return new e(this.name,this.teacher,this.offeredBlocks,this.id)}}]),e}(),L=new(0,n(87).EventEmitter),A=0,W=8,T=[new N("","",[],A++)];T=[new N("","",[],0)];var M={getCourses:function(){return T.slice()},subscribeUpdate:function(e){L.addListener("update",e)},unsubscribeUpdate:function(e){L.removeListener("update",e)},updateCourse:function(e,t){for(var n in t)T[e][n]=t[n];L.emit("update")},subscribeAddRemove:function(e){L.addListener("addRemove",e)},unsubscribeAddRemove:function(e){L.removeListener("addRemove",e)},addCourse:function(e){T=T.slice(0,e+1).concat(new N("","",[],A++),T.slice(e+1,T.length)),L.emit("addRemove")},removeCourse:function(e){var t=T.slice();t.splice(e,1),T=t,L.emit("addRemove")},subscribeBlocksChange:function(e){L.addListener("blocksChange",e)},unsubscribeBlocksChange:function(e){L.removeListener("blocksChange",e)},getBlocks:function(){return W},changeBlocks:function(e){e!==W&&(W=e,L.emit("blocksChange"))}},D=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).makeSchedules=n.makeSchedules.bind(Object(u.a)(n)),n.prepareSchedule=n.prepareSchedule.bind(Object(u.a)(n)),n.scheduleDisplayRouteRender=n.scheduleDisplayRouteRender.bind(Object(u.a)(n)),n.state={schedules:[],blocks:4},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"prepareSchedule",value:function(e){var t=[],n=M.getBlocks();t.length=n;for(var a=[],r=0;r<n;++r)t[r]=[];var o=!0,l=!1,c=void 0;try{for(var s,i=e[Symbol.iterator]();!(o=(s=i.next()).done);o=!0){var u=s.value;if(u.offeredBlocks.length<2){if(a.includes(u.offeredBlocks[0]))break;var d=u.offeredBlocks[0];a.push(d),u.possibleBlocks.push(d)}var h=!0,f=!1,m=void 0;try{for(var p,v=u.offeredBlocks[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var b=p.value;a.includes(b)||u.possibleBlocks.push(b);var g=t[b];void 0!==g&&g.push(u)}}catch(k){f=!0,m=k}finally{try{h||null==v.return||v.return()}finally{if(f)throw m}}}}catch(k){l=!0,c=k}finally{try{o||null==i.return||i.return()}finally{if(l)throw c}}return t}},{key:"makeSchedules",value:function(e){var t=[];if(e.length<2)return e[0].map(function(e){return[e]});var n=!0,a=!1,l=void 0;try{for(var c,s=e[0][Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var i=c.value,u=[];u.length=e.length;for(var d=0,h=e.length;d<h;++d)u[d]=[];for(var f=1,m=e.length;f<m;++f)for(var p=void 0;-1!==(p=e[f].indexOf(i));)u[f].push(i),e[f].splice(p,1);var v=!1,b=!0,g=!1,k=void 0;try{for(var y,C=e[Symbol.iterator]();!(b=(y=C.next()).done);b=!0){y.value.length<1&&(v=!0)}}catch(G){g=!0,k=G}finally{try{b||null==C.return||C.return()}finally{if(g)throw k}}if(v);else{var E=this.makeSchedules(e.slice(1)),w=!0,B=!1,O=void 0;try{for(var j,x=E[Symbol.iterator]();!(w=(j=x.next()).done);w=!0){var S=j.value;t.push([i].concat(S))}}catch(G){B=!0,O=G}finally{try{w||null==x.return||x.return()}finally{if(B)throw O}}}var R=!0,U=!1,I=void 0;try{for(var N,L=u.entries()[Symbol.iterator]();!(R=(N=L.next()).done);R=!0){var A,W=N.value,T=Object(o.a)(W,2),M=T[0],D=T[1];(A=e[M]).push.apply(A,Object(r.a)(D))}}catch(G){U=!0,I=G}finally{try{R||null==L.return||L.return()}finally{if(U)throw I}}u=[]}}catch(G){a=!0,l=G}finally{try{n||null==s.return||s.return()}finally{if(a)throw l}}return t}},{key:"scheduleDisplayRouteRender",value:function(){return f.a.createElement(G,{schedules:this.state.schedules})}},{key:"render",value:function(){var e=this;return f.a.createElement(v.BrowserRouter,{basename:"/schedule-maker"},f.a.createElement(k.a,{bg:"light"},f.a.createElement(k.a.Brand,null,"Schedule Maker"),f.a.createElement(y.a,{variant:"pills"},f.a.createElement(y.a.Item,null,f.a.createElement(g.IndexLinkContainer,{to:"/"},f.a.createElement(y.a.Link,null,"Input"))),f.a.createElement(y.a.Item,{onSelect:function(t){if("output"===t){var n=e.prepareSchedule(M.getCourses()),a=e.makeSchedules(n);e.setState({schedules:a})}}},f.a.createElement(g.LinkContainer,{to:"/output/"},f.a.createElement(y.a.Link,null,"Output"))))),f.a.createElement(b.d,{exact:!0,path:"/output/",render:this.scheduleDisplayRouteRender}),f.a.createElement(b.d,{exact:!0,path:"/",component:H}))}}]),t}(f.a.Component),G=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.schedules,t=[],n=M.getBlocks(),a=f.a.createElement(C.a,{variant:"danger"},f.a.createElement(C.a.Heading,null,"Unable to create schedule"),f.a.createElement("p",null,"There are no possible schedules from your classes. Make sure you have at least ",n," classes. If you believe this is a mistake, please leave an bug report on Github."));if(isNaN(n))return a;for(var r=function(e){t.push({id:"class"+(e+1),Header:"Block "+(e+1),style:{borderRight:"1px solid rgba(0, 0, 0, 0.2"},accessor:function(t){return t[e].name}})},o=0;o<n;++o)r(o);return e.length<1?a:f.a.createElement(R.a,{style:{padding:"10px"},data:e,columns:t,className:"-striped -highlight",defaultSorted:[{id:"block1",desc:!1}],filterable:!0,SubComponent:function(e){return f.a.createElement("div",{className:"rt-tr"},f.a.createElement("div",{className:"rt-td",style:{flex:"35 0 auto",width:"35px",maxWidth:"35px",wordWrap:"break-word"}},"Teacher"),e.original.map(function(e,t){return f.a.createElement("div",{key:t,className:"rt-td",style:{flex:"100 0 auto",width:"100px"}},e.teacher)}))}})}}]),t}(f.a.Component),H=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={courses:M.getCourses()},n.onAddRemove=n.onAddRemove.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onAddRemove",value:function(){this.setState({courses:M.getCourses()})}},{key:"componentWillMount",value:function(){M.subscribeAddRemove(this.onAddRemove)}},{key:"shouldComponentUpdate",value:function(e,t){return t.courses.length!==this.state.courses.length}},{key:"handleChange",value:function(e){M.changeBlocks(parseInt(e.target.value)),this.forceUpdate()}},{key:"getInputValue",value:function(){var e;return isNaN(e=M.getBlocks())?"":e}},{key:"render",value:function(){var e=this.props.scheduleApp;return f.a.createElement(f.a.Fragment,null,f.a.createElement(E.a.Group,{controlId:"blocksInput"},f.a.createElement(E.a.Label,null,"Number of blocks:"),f.a.createElement(E.a.Control,{value:this.getInputValue(),onChange:this.handleChange,type:"number",min:"1"})),f.a.createElement(w.a,null,this.state.courses.map(function(t,n){return f.a.createElement(J,{key:t.id,name:t.name,index:n,teacher:t.teacher,offeredBlocks:t.offeredBlocks,appInstance:e})})))}}]),t}(f.a.Component),J=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).addCourse=n.addCourse.bind(Object(u.a)(n)),n.removeCourse=n.removeCourse.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.onCourseUpdate=n.onCourseUpdate.bind(Object(u.a)(n)),n.onBlockUpdate=n.onBlockUpdate.bind(Object(u.a)(n)),n.state={course:M.getCourses()[n.props.index].clone(),blocks:M.getBlocks()},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addCourse",value:function(e,t){M.addCourse(e)}},{key:"removeCourse",value:function(e,t){M.removeCourse(e)}},{key:"handleChange",value:function(e,t,n){M.updateCourse(t,Object(a.a)({},e.target.name,e.target.value))}},{key:"onCourseUpdate",value:function(){var e=M.getCourses()[this.props.index].clone();e.name===this.state.course.name&&e.teacher===this.state.course.teacher&&e.id===this.state.course.id&&function(e,t){if(e.length!==t.length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(e.offeredBlocks,this.state.course.offeredBlocks)||this.setState({course:e})}},{key:"onBlockUpdate",value:function(){var e=M.getBlocks();isNaN(e)||this.setState({blocks:e})}},{key:"componentWillMount",value:function(){M.subscribeUpdate(this.onCourseUpdate),M.subscribeBlocksChange(this.onBlockUpdate)}},{key:"componentWillUnmount",value:function(){M.unsubscribeUpdate(this.onCourseUpdate),M.unsubscribeBlocksChange(this.onBlockUpdate)}},{key:"render",value:function(){var e=this,t=this.props.index,n=this.props.appInstance;return f.a.createElement(w.a.Item,null,f.a.createElement(E.a.Group,{controlId:"courseInput"+t},f.a.createElement(E.a.Label,null,"Class Name"),f.a.createElement(E.a.Control,{placeholder:"Class Name",name:"name",value:this.state.course.name,onChange:function(a){return e.handleChange(a,t,n)}})),f.a.createElement(E.a.Group,{controlId:"courseInput"+t},f.a.createElement(E.a.Label,null,"Teacher"),f.a.createElement(E.a.Control,{placeholder:"Teacher",name:"teacher",value:this.state.course.teacher,onChange:function(a){return e.handleChange(a,t,n)}})),f.a.createElement("div",{className:"input-button-group"},f.a.createElement(B.a,{style:{marginRight:"4px",paddingBottom:"5px"}},f.a.createElement(O.a,null,f.a.createElement(O.a.Toggle,{variant:"primary"},"Offered Blocks"),f.a.createElement(O.a.Menu,{style:{padding:"0"}},f.a.createElement(j.a,{type:"checkbox",vertical:!0,value:this.state.course.offeredBlocks,style:{width:"100%"},onChange:function(e,n){M.updateCourse(t,{offeredBlocks:e})}},new Array(this.state.blocks).fill(null).map(function(e,t){return f.a.createElement(x.a,{key:t,value:t,style:{width:"100%"}},"Block ",t+1)}))))),f.a.createElement(B.a,{style:{paddingBottom:"5px"}},f.a.createElement(S.a,{className:"courseListButton",onClick:function(){return e.addCourse(t,n)}},"+"),f.a.createElement(S.a,{className:"courseListButton",onClick:function(){return M.getCourses().length<2?M.updateCourse(t,{name:"",teacher:"",offeredBlocks:[]}):e.removeCourse(t,n)}},"-"))))}}]),t}(f.a.Component);p.a.render(f.a.createElement(D,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/schedule-maker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/schedule-maker","/service-worker.js");U?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):I(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):I(t,e)})}}()},74:function(e,t,n){e.exports=n(110)},86:function(e,t,n){}},[[74,1,2]]]);
//# sourceMappingURL=main.88647c31.chunk.js.map